<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Mood Tracker</title>
  <style>
    body { font-family: sans-serif; }
    table { border-collapse: collapse; margin: 20px 0; }
    td, th { border: 1px solid #000; padding: 10px; vertical-align: top; }
    select, textarea { width: 100%; }
    textarea { height: 50px; }
  </style>
</head>
<body>
  <h1>Mood Tracker â€“ August 2025</h1>
  <table>
    <tr>
      <th>Day</th>
      <th>Mood</th>
      <th>Note</th>
    </tr>
    <tbody id="tracker"></tbody>
  </table>

  <script>
    const daysInMonth = 31; // August
    const trackerBody = document.getElementById("tracker");
    const moods = ["-3", "-2", "-1", "0", "1", "2", "3"];

    // Load saved data
    let saved = JSON.parse(localStorage.getItem("moodData")) || {};

    for (let day = 1; day <= daysInMonth; day++) {
      let tr = document.createElement("tr");

      // Day cell
      let tdDay = document.createElement("td");
      tdDay.textContent = day + " Aug";
      tr.appendChild(tdDay);

      // Mood cell
      let tdMood = document.createElement("td");
      let select = document.createElement("select");
      moods.forEach(m => {
        let opt = document.createElement("option");
        opt.value = m;
        opt.textContent = m;
        select.appendChild(opt);
      });
      if (saved[day] && saved[day].mood) {
        select.value = saved[day].mood;
      }
      select.addEventListener("change", () => {
        saveData(day, select.value, note.value);
      });
      tdMood.appendChild(select);
      tr.appendChild(tdMood);

      // Note cell
      let tdNote = document.createElement("td");
      let note = document.createElement("textarea");
      if (saved[day] && saved[day].note) {
        note.value = saved[day].note;
      }
      note.addEventListener("input", () => {
        saveData(day, select.value, note.value);
      });
      tdNote.appendChild(note);
      tr.appendChild(tdNote);

      trackerBody.appendChild(tr);
    }

    function saveData(day, mood, note) {
      saved[day] = { mood, note };
      localStorage.setItem("moodData", JSON.stringify(saved));
    }
  </script>
</body>
</html>
